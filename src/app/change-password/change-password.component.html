<div class="container">
  <form [formGroup]="form">
    <div class="form-group">
      <label for="oldPassword">Old Password</label>
      <input
        type="password"
        class="form-control"
        name="oldPassword"
        id="oldPassword"
        aria-describedby="helpId"
        placeholder=""
        formControlName="oldPassword"
        [ngStyle]="{
          border:
            oldPassword?.errors && oldPassword?.touched ? '1px solid red' : null
        }"
      />

      <div *ngIf="oldPassword?.pending" class="spinner-border" role="status">
        <span class="sr-only text-primary">Loading...</span>
      </div>

      <div *ngIf="oldPassword?.touched && oldPassword?.errors">
        <div *ngIf="oldPassword?.errors?.required" class="alert alert-danger">
          Old password is required
        </div>
        <div
          *ngIf="oldPassword?.errors?.errorOldPwdMatch"
          class="alert alert-danger"
        >
          {{ oldPassword?.errors?.errorOldPwdMatch }}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="newPassword">New Password</label>
      <input
        type="password"
        class="form-control"
        name="newPassword"
        id="newPassword"
        aria-describedby="helpId"
        placeholder=""
        formControlName="newPassword"
        [ngStyle]="{
          border:
            newPassword?.touched && newPassword?.errors ? '1px solid red' : null
        }"
      />

      <div *ngIf="newPassword?.touched && newPassword?.errors">
        <div *ngIf="newPassword?.errors?.required" class="alert alert-danger">
          Champ obligatoire
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="confirmedPassword">Confirm Password</label>
      <input
        type="password"
        class="form-control"
        name="confirmedPassword"
        id="confirmedPassword"
        aria-describedby="helpId"
        placeholder=""
        formControlName="confirmedPassword"
        [ngStyle]="{
          border:
            confirmedPassword?.touched && confirmedPassword?.errors
              ? '1px solid red'
              : null
        }"
      />
      <div *ngIf="confirmedPassword?.touched && confirmedPassword?.errors">
        <div
          *ngIf="confirmedPassword?.errors?.required"
          class="alert alert-danger"
        >
          Champ obligatoire
        </div>
      </div>
      <div
        *ngIf="
          form?.invalid &&
          form?.errors?.shouldNotPasswordMatch &&
          confirmedPassword?.valid
        "
        class="alert alert-danger"
      >
        {{ form?.errors?.message }}
      </div>
    </div>

    <button type="submit" class="btn btn-outline-primary">
      Change password
    </button>
  </form>
</div>
